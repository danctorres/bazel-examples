---
tasks:
  cpp-linux:
    name: "Basic C++ example"
    platform: ubuntu1804
    working_directory: cpp
    build_targets:
    - "//..."
    run_targets:
    - "//:hello_world"
    - "//:buildifier"
  cpp-windows:
    name: "Basic C++ example"
    platform: windows
    working_directory: cpp
    build_targets:
    - "//..."
    run_targets:
    - "//:hello_world"
  # Running buildifier from the Bazel rule does not work on Windows
  # See https://github.com/bazelbuild/buildtools/issues/346 and https://github.com/bazelbuild/buildtools/issues/770
  #  - "//:buildifier"
  cpp-and-python-linux:
    name: "Bazel Macros: Generate cpp files using Python"
    platform: ubuntu1804
    working_directory: cpp_and_python
    build_targets:
    - "//..."
    run_targets:
    - "//:hello_world_everyone"
    - "//:hello_world_code_dive"
    - "//:buildifier"
  cpp-and-python-windows:
    name: "Bazel Macros: Generate cpp files using Python"
    platform: windows
    working_directory: cpp_and_python
    build_targets:
    - "//..."
    run_targets:
    - "//:hello_world_everyone"
    - "//:hello_world_code_dive"
  # Running buildifier from the Bazel rule does not work on Windows
  # See https://github.com/bazelbuild/buildtools/issues/346 and https://github.com/bazelbuild/buildtools/issues/770
  #  - "//:buildifier"
  python-linux:
    name: "Basic Python example"
    platform: ubuntu1804
    working_directory: python
    build_targets:
    - "//..."
    test_targets:
    - "//:test"
    run_targets:
    - "//:bin"
    - "//:buildifier"
  python-windows:
    name: "Basic Python example"
    platform: windows
    working_directory: python
    build_targets:
    - "//..."
    test_targets:
    - "//:test"
    run_targets:
    - "//:bin"
  # Running buildifier from the Bazel rule does not work on Windows
  # See https://github.com/bazelbuild/buildtools/issues/346 and https://github.com/bazelbuild/buildtools/issues/770
  #  - "//:buildifier"
  third-party-dependencies-linux:
    name: "Bazel with third party dependencies"
    platform: ubuntu1804
    working_directory: third_party_dependencies
    build_targets:
    - "//..."
    test_targets:
    - "//..."
    run_targets:
    - "//:buildifier"
  third-party-dependencies-windows:
    name: "Bazel with third party dependencies"
    platform: windows
    working_directory: third_party_dependencies
    build_targets:
    - "//..."
    test_targets:
    - "//..."
  # Running buildifier from the Bazel rule does not work on Windows
  # See https://github.com/bazelbuild/buildtools/issues/346 and https://github.com/bazelbuild/buildtools/issues/770
  #  run_targets:
  #  - "//:buildifier"
